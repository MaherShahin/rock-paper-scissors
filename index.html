<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Rock Paper Scissors</h1>
    <button class="rock">Rock</button>
    <button class="paper">Paper</button>
    <button class="scissors">Scissors</button>

    <div class="result-box" >
         <h3>Results:</h3> 
    </div>

    <div class="scoreboard"> 
        <h3>Scoreboard:</h3>
        <p>Player: <span class="player-score">0</span></p>
        <p>Computer: <span class="computer-score">0</span></p>
     </div>

    <script>

        function computerPlay() {
            let random = Math.floor(Math.random()*3);
            switch (random) {
                case 0:
                    return "rock"
                case 1:
                    return "paper"
                case 2:
                    return "scissors"
            }
        }

        function playRound(playerSelection, computerSelection){
            if (playerSelection == computerSelection) {
                return "It's a tie!"
            } else if (playerSelection.toLowerCase() == "rock") {
                if (computerSelection == "paper") {
                    return "You lose! Paper beats rock."
                } else {
                    return "You win! Rock beats scissors."
                }
            } else if (playerSelection.toLowerCase() == "paper") {
                if (computerSelection == "scissors") {
                    return "You lose! Scissors beats paper."
                } else {
                    return "You win! Paper beats rock."
                }
            } else if (playerSelection.toLowerCase() == "scissors") {
                if (computerSelection == "rock") {
                    return "You lose! Rock beats scissors."
                } else {
                    return "You win! Scissors beats paper."
                }
            }
            else {
                return "Please enter a valid selection."
               
            }

        }

        const rockButton = document.querySelector('.rock')
        const paperButton = document.querySelector('.paper')
        const scissorsButton = document.querySelector('.scissors')

        const resultBox = document.querySelector('.result-box')
        const gameResult = document.createElement('div');

        const scoreboard = document.querySelector('.scoreboard')
        let playerScore = document.querySelector('.player-score');
        let computerScore = document.querySelector('.computer-score');

        rockButton.addEventListener('click', function() {
            let computerSelection = computerPlay();
            let result = playRound("rock", computerSelection);
            gameResult.textContent = result + " Computer chose " + computerSelection;
            resultBox.appendChild(gameResult);
            scoreCalculator(result);
            isGameOver();
        })
    
        scissorsButton.addEventListener('click', () => {
            let computerSelection = computerPlay();
            let result = playRound("scissors", computerSelection);
            gameResult.textContent = result + " Computer chose " + computerSelection;
            resultBox.appendChild(gameResult);
            scoreCalculator(result);
            isGameOver();
        })
                
        paperButton.addEventListener('click', () => {
            let computerSelection = computerPlay();
            let result = playRound("paper", computerSelection);
            gameResult.textContent = result + " Computer chose " + computerSelection;
            resultBox.appendChild(gameResult);
            scoreCalculator(result);
            isGameOver();
        })

        function scoreCalculator(result){            
            if (result.includes("win")) {
                playerScore.textContent = parseInt(playerScore.textContent) + 1;
            } else if (result.includes("lose")) {
                computerScore.textContent = parseInt(computerScore.textContent) + 1;
            }
        }

        function isGameOver(){
            if (playerScore.textContent == "5" || computerScore.textContent == "5" ) {
                alert("Game over!" + " " + "Player: " + playerScore.textContent + " " + "Computer: " + computerScore.textContent + "\n" + "Winner is: " + (playerScore.textContent > computerScore.textContent ? "Player" : "Computer"));
                playerScore.textContent = 0;
                computerScore.textContent = 0;
                resultBox.textContent = "";

            }
        }


    </script>


</body>
</html>



<!--         
// function game() {
    //     let playerScore = 0;
    //     let computerScore = 0;

    //     for (let i=0; i<5; i++) {
    //         let playerSelection = prompt("Rock, paper, or scissors?");
    //         let computerSelection = computerPlay();
    //         let result = playRound(playerSelection, computerSelection);
    //         if (result.includes("win")) {
    //             playerScore++;
    //         } else if (result.includes("lose")) {
    //             computerScore++;
    //         }
    //         alert(result);
    //         console.log(result);
    //         console.log("Player Score:" ,playerScore);
    //         console.log("Computer Score:" ,computerScore);
    //     }
    // }

    // game(); -->